<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Детали записи — Network Tools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h4 mb-0">Детали запроса</h1>
    <a class="btn btn-outline-secondary" href="{{ url_for('history') }}">← История</a>
  </div>

  {% if row %}
    <dl class="row">
      <dt class="col-sm-3">ID</dt>
      <dd class="col-sm-9">{{ row.id }}</dd>

      <dt class="col-sm-3">Когда</dt>
      <dd class="col-sm-9">{{ row.timestamp }}</dd>

      <dt class="col-sm-3">Действие</dt>
      <dd class="col-sm-9">{{ row.action }}</dd>

      <dt class="col-sm-3">Host</dt>
      <dd class="col-sm-9"><code>{{ row.host }}</code></dd>

      <dt class="col-sm-3">Статус</dt>
      <dd class="col-sm-9">
        {% set badge =
          'success' if row.status=='ok'
          else 'warning' if row.status=='warn'
          else 'danger' if row.status=='error'
          else 'secondary'
        %}
        <span class="badge bg-{{ badge }}">{{ row.status }}</span>
      </dd>
    </dl>

    <h2 class="h5 mt-4">Вывод</h2>
    <pre class="bg-light p-3 rounded">{{ row.output }}</pre>
  {% else %}
    <div class="alert alert-danger">Запись не найдена.</div>
  {% endif %}

</body>
</html>