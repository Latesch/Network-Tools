{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">–ò—Å—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤</h2>

  {% if logs %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>–í—Ä–µ–º—è</th>
          <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
          <th>–•–æ—Å—Ç</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
          <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        {% for log in logs %}
        <tr>
          <td>{{ log.id }}</td>
          <td>{{ log.timestamp }}</td>
          <td>{{ log.action }}</td>
          <td>{{ log.host }}</td>
          <td>
            {% if log.status == "ok" %}
              ‚úÖ –£—Å–ø–µ—Ö
            {% else %}
              ‚ùå –û—à–∏–±–∫–∞
            {% endif %}
          </td>
          <td>
            <a href="{{ url_for('main.history_detail', log_id=log.id) }}" class="btn btn-sm btn-outline-primary">–î–µ—Ç–∞–ª–∏</a>
            <form action="{{ url_for('main.del_log_history', log_id=log.id) }}" method="post" style="display:inline;">
              <button type="submit" class="btn btn-sm btn-outline-danger">–£–¥–∞–ª–∏—Ç—å</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- üöÄ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ª–æ–≥–æ–≤ -->
    <form action="{{ url_for('main.delete_history') }}" method="post" class="mt-3">
      <button type="submit" class="btn btn-danger">
        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é
      </button>
    </form>

  {% else %}
    <p>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞.</p>
  {% endif %}
</div>
{% endblock %}
